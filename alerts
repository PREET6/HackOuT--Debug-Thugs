const express = require('express');
const router = express.Router();
const { 
  getAlerts, 
  getAlert, 
  createAlert, 
  updateAlert, 
  getAlertStats 
} = require('../controllers/alertController');
const { authenticateToken } = require('../middleware/auth');

// All routes are protected
router.use(authenticateToken);

// Get alert statistics
router.get('/stats', getAlertStats);

// Get all alerts with optional filters
router.get('/', getAlerts);

// Get a specific alert
router.get('/:id', getAlert);

// Create a new alert
router.post('/', createAlert);

// Update an alert
router.put('/:id', updateAlert);

module.exports = router;